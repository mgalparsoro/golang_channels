#!/bin/bash

DB_USER="developer"
DB_PASSWORD="developer"
DB_NAME="smartpm_cell"
SCHEMA_NAME="smartpm_cell"

docker compose exec -d mic-postgres bash -c "psql -U postgres -d postgres <<EOF
CREATE ROLE $DB_USER NOSUPERUSER CREATEDB NOCREATEROLE NOINHERIT LOGIN PASSWORD '$DB_PASSWORD';
CREATE DATABASE $DB_NAME WITH OWNER $DB_USER;
\c $DB_NAME
CREATE SCHEMA $SCHEMA_NAME AUTHORIZATION $DB_USER;
EOF"
